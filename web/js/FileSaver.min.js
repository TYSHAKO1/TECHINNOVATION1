var _global=typeof window==="object"&&window.window===window?window:typeof self==="object"&&self.self===self?self:typeof global==="object"&&global.global===global?global:this;function bom(a,b){if(typeof b==="undefined"){b={autoBom:false}}else{if(typeof b!=="object"){console.warn("Deprecated: Expected third argument to be a object");b={autoBom:!b}}}if(b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)){return new Blob([String.fromCharCode(65279),a],{type:a.type})}return a}function download(b,a,c){var d=new XMLHttpRequest();d.open("GET",b);d.responseType="blob";d.onload=function(){saveAs(d.response,a,c)};d.onerror=function(){console.error("could not download file")};d.send()}function corsEnabled(a){var c=new XMLHttpRequest();c.open("HEAD",a,false);try{c.send()}catch(b){}return c.status>=200&&c.status<=299}function click(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,window,0,0,0,80,20,false,false,false,false,0,null);b.dispatchEvent(a)}}var isMacOSWebView=_global.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent);var saveAs=_global.saveAs||((typeof window!=="object"||window!==_global)?function saveAs(){}:("download" in HTMLAnchorElement.prototype&&!isMacOSWebView)?function saveAs(d,e,f){var b=_global.URL||_global.webkitURL;var c=document.createElement("a");e=e||d.name||"download";c.download=e;c.rel="noopener";if(typeof d==="string"){c.href=d;if(c.origin!==location.origin){corsEnabled(c.href)?download(d,e,f):click(c,c.target="_blank")}else{click(c)}}else{c.href=b.createObjectURL(d);setTimeout(function(){b.revokeObjectURL(c.href)},40000);setTimeout(function(){click(c)},0)}}:"msSaveOrOpenBlob" in navigator?function saveAs(c,d,e){d=d||c.name||"download";if(typeof c==="string"){if(corsEnabled(c)){download(c,d,e)}else{var b=document.createElement("a");b.href=c;b.target="_blank";setTimeout(function(){click(b)})}}else{navigator.msSaveOrOpenBlob(bom(c,e),d)}}:function saveAs(b,d,a,e){e=e||open("","_blank");if(e){e.document.title=e.document.body.innerText="downloading..."}if(typeof b==="string"){return download(b,d,a)}var f=b.type==="application/octet-stream";var i=/constructor/i.test(_global.HTMLElement)||_global.safari;var j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||(f&&i)||isMacOSWebView)&&typeof FileReader!=="undefined"){var g=new FileReader();g.onloadend=function(){var k=g.result;k=j?k:k.replace(/^data:[^;]*;/,"data:attachment/file;");if(e){e.location.href=k}else{location=k}e=null};g.readAsDataURL(b)}else{var h=_global.URL||_global.webkitURL;var c=h.createObjectURL(b);if(e){e.location=c}else{location.href=c}e=null;setTimeout(function(){h.revokeObjectURL(c)},40000)}});_global.saveAs=saveAs.saveAs=saveAs;if(typeof module!=="undefined"){module.exports=saveAs};
